{"version":3,"sources":["../src/tooltip.js"],"names":["tooltip","scope","elem","attrs","ctrl","panel","$tooltip","$","find","on","event","body","warn","crit","ok","title","innerText","index","series","length","parseFloat","display_value","thresholds","push","alias","critItem","join","Critical","warnItem","Warning","okItem","Ok","html","place_tt","pageX","pageY","detach","_"],"mappings":"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","file":"tooltip.js","sourcesContent":["import _ from 'lodash';\nimport $ from 'jquery';\n\nexport default function tooltip(scope, elem, attrs, ctrl) {\n\n    const panel = ctrl;\n    const $tooltip =  $('<div id=\"tooltip\">');\n\n    elem.find('.status-panel').on({\n        \"mousemove\": function(event){\n            let body;\n            const warn = [];\n            const crit = [];\n            const ok = [];\n            var title = elem.find(\".panel-title-text\")[0].innerText;\n\n            for (let index = 0; index < ctrl.series.length; index++) {  \n                if(parseFloat(ctrl.series[index].display_value) >= ctrl.series[index].thresholds.crit){\n                    crit.push(`<astyle=\"line-height: 1.2\">${ctrl.series[index].alias} : ${ctrl.series[index].display_value} <br></a>`)\n                }else if (ctrl.series[index].thresholds.warn <= parseFloat(ctrl.series[index].display_value) && parseFloat(ctrl.series[index].display_value) < ctrl.series[index].thresholds.crit){\n                    warn.push(`<a style=\"line-height: 1.2\">${ctrl.series[index].alias} : ${ctrl.series[index].display_value}<br></a>`)\n                }else if (parseFloat(ctrl.series[index].display_value) < ctrl.series[index].thresholds.warn){\n                    ok.push(`<a style=\"line-height: 1.2\">${ctrl.series[index].alias} : ${ctrl.series[index].display_value}<br></a>`)\n                }\n            }\n\n            if(crit.length !== 0){\n                var critItem = crit.join(\"\")\n                var Critical = `\n                    <div style=\"padding-bottom: 10px\">\n                        <a style=\"color:red; font-weight:bold;\">Critical<br></a>\n                        ${critItem}\n                    </div>\n                `\n            }else {\n                var Critical = \"\"\n            }\n\n            if(warn.length !== 0) {\n                var warnItem = warn.join(\"\")\n                var Warning = `\n                    <div style=\"padding-bottom: 10px\">\n                        <a style=\"line-height: 1.6; color:orange; font-weight:bold;\">Warning<br></a>\n                        ${warnItem}\n                    </div>\n                `\n            }else{\n                var Warning = \"\"\n            }\n\n            if(ok.length !== 0) {\n                var okItem = ok.join(\"\")\n                var Ok = `\n                    <div style=\"padding-bottom: 10px\">\n                        <a style=\"color:green; font-weight:bold;\">Ok<br></a>\n                        ${okItem}\n                    </div>\n                `\n            }else{\n                var Ok = \"\"\n            }\n\n            body = `\n            <div class=\"metric-tooltip\">\n                <div class=\"metric-tooltip-time\">\n                    <h5 style=\"text-align: center; font-weight:bold;\">${title}</h5>\n                    ${Critical}\n                    ${Warning}\n                    ${Ok}\n                </div>\n            </div>\n            `;\n            $tooltip.html(body).place_tt(event.pageX + 20, event.pageY );\n        }, \"mouseleave\": function(){\n            $tooltip.detach();\n        }\n\n    });\n}\n"]}